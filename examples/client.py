import requests
import numpy as np

# Define the service endpoint
url = "http://localhost:9000/add-vector"

# Generate a random query vector
dim = 128  # Match the dimension used in the service
query_vector = np.random.rand(dim).tolist()
# query_vector = [0.5710787854028782, 0.7276913858233641, 0.3865781001766555, 0.1519077244047019, 0.7265218837062813, 0.07834664985961737, 0.6019822824552219, 0.2050074802638897, 0.2302442624406449, 0.7534039918454196, 0.6649008626787173, 0.9074713842045569, 0.9638597604663041, 0.29521800858489544, 0.2133117829563993, 0.8863206905208053, 0.6165827742531937, 0.02707887781444074, 0.46228818947350103, 0.7056711754103171, 0.4050009139919092, 0.7989282470824975, 0.6973850115325093, 0.06718266194689027, 0.788162678369154, 0.196391022435765, 0.4150233587939096, 0.9319125383948351, 0.46799738573147553, 0.44343684614858825, 0.49729291948592735, 0.9079326903986891, 0.48381977785133445, 0.12268814303666309, 0.5871980319715895, 0.6406167493228836, 0.850822522234619, 0.19933573959431683, 0.2700707350337106, 0.8184723894258233, 0.28669434945169026, 0.5550930020103064, 0.3896088999697269, 0.012512276087416119, 0.6775068035714117, 0.8032437795603202, 0.944127727026745, 0.3875533615366298, 0.6195262759295003, 0.4058723066302373, 0.05951043444089377, 0.1209957900458778, 0.14703551575763485, 0.16235642965853203, 0.033486132914303246, 0.5462182548207737, 0.5264153707669919, 0.956493459593706, 0.370313955895752, 0.6383187307428562, 0.541543581170108, 0.8583110806805014, 0.04932977364819391, 0.922552413963894, 0.6031616136658845, 0.821770431664253, 0.7556198186043431, 0.33286283922535065, 0.31130781201648694, 0.27101634262555674, 0.8075874909967135, 0.119704164940167, 0.5687196178848654, 0.2793394570341242, 0.4798446702002841, 0.3436623581992171, 0.37748728199417014, 0.17295371239815405, 0.6128713886767735, 0.5946515076393022, 0.13314995835680288, 0.2993112146789788, 0.9677788216649891, 0.9132309314862702, 0.3145228420543509, 0.5264973990047326, 0.36144978899855706, 0.0066188396573712005, 0.9972617111441077, 0.8402532099397841, 0.2945019214708168, 0.3662519721916193, 0.28781258320566516, 0.9874782088814924, 0.049535459172622365, 0.9480453284070441, 0.5423596606717632, 0.2086412972496977, 0.4841828699326901, 0.3233054668632348, 0.8270766269872157, 0.7809432859706931, 0.2719039593253595, 0.5645436517069305, 0.23111453474018795, 0.023888186785587795, 0.5290613130760115, 0.9753991370913723, 0.840493526603451, 0.22367551816498688, 0.5537782898392328, 0.6047221148119911, 0.06700149400919553, 0.10176771157160591, 0.14426966674201636, 0.9512134449014046, 0.41184578207216727, 0.7234720268922105, 0.9025586051218394, 0.49457605230844015, 0.7672803078336206, 0.8580265000087207, 0.12400862164194049, 0.3276681664746366, 0.8694700284969638, 0.3928364265539769, 0.824528935001871, 0.9310713990255046]

# Send the query to the service
response = requests.post(url, json={"vector": query_vector, "metadata": {"name": "random_vector"}})

# Parse and display the response
if response.status_code == 200:
    result = response.json()
    print("Labels:", result["labels"])
    print("Distances:", result["distances"])
else:
    print("Error:", response.json()["detail"])
